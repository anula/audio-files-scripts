TODO: explain functionality, document all the options
